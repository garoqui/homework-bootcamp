<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   
<link rel="stylesheet" href="style.css">
<title>Calculadora</title>
<script language=JavaScript>
    function result(cadena,signo,signoactual)
    {    
        valores=cadena.split(signo,2);
        let num1=0;
        let num2=0;
        num1=parseFloat(valores[0]);
        num2=parseFloat(valores[1]);    
        var resu=0;
        if(!(isNaN(num1) || isNaN(num2)))
        {        
        switch(signo)
        {
            case "+":
            resu=num1+num2;
            document.getElementById("number1").value=resu+signoactual;            
            break;

            case "-":
            resu=num1-num2;
            document.getElementById("number1").value=resu+signoactual;
            break;

            case "*":
            resu=num1*num2;
            document.getElementById("number1").value=resu+signoactual; 
            break;

            case "/":
            resu=num1/num2;
            document.getElementById("number1").value=resu+signoactual;  
            break;      
            
              

            default:
            alert("error");
            break;
        }

        if(signoactual=="=")
        {
            document.getElementById("number1").value=resu;     
        }
    }
    else
    {
        alert("Solo se realizan operaciones con n{umeros");
    }

        
   }
   function encontrar(cadena)
   {
       i=0;
       signos=["+","-","*","/","="];
       for(i=0;i<5;i++)       
       { 
          
       if( cadena.indexOf(signos[i])>=0)
         {
        
         estado=signos[i];
        i=5;
         
         }
         else
         {
        estado=0;
         }
        }
      return estado; 
   }
function concat(valor)
        {        
        let numero=document.getElementById(valor).value;
        let cadena=document.getElementById("number1").value;
        let ultimo= cadena.charAt(cadena.length-1);
        if(numero=="C")
        {
            document.getElementById("number1").value="";  
        }
        else
        {       

        if(numero=="+" || numero=="-" || numero=="*" || numero=="/" || numero=="=" )
        {
            //cambiar el signo si estamos vien un resultado y se oprime un signo
            if(ultimo=="+" || ultimo=="-" || ultimo=="*" || ultimo=="/" || ultimo=="=")
                {
            cadena=cadena.substr(0,(cadena.length)-1);
            cadena=cadena+numero;
            document.getElementById("number1").value=cadena;  
            }
            else
            {
            // verificar si hay signo en la sentencia para mostrar el reultado
            if(encontrar(cadena)!=0)
             {
            let signo=encontrar(cadena);
            let signoactual=encontrar(numero);
            result(cadena,signo,signoactual);

            }
            else
            {
                document.getElementById("number1").value=cadena+numero;  
            }
        }
    }
        else
            {
            document.getElementById("number1").value=cadena+numero;
            } 
        }    
        
        }   
</script>
    
  </head>
  <body class='body'>
      <div class="container" >
          <div class="container-calc">
      <input type="text" class="cadena" disabled id="number1"/>
      <input type="button" value="1" id="1" onclick="concat(this.id)">
      <input type="button" value="2" id="2" onclick="concat(this.id)">
      <input type="button" value="3" id="3" onclick="concat(this.id)">
      <input type="button" value="4" id="4" onclick="concat(this.id)">
      <input type="button" value="5" id="5" onclick="concat(this.id)">
      <input type="button" value="6" id="6" onclick="concat(this.id)">
      <input type="button" value="7" id="7" onclick="concat(this.id)">
      <input type="button" value="8" id="8" onclick="concat(this.id)">
      <input type="button" value="9" id="9" onclick="concat(this.id)">
      <input type="button" value="0" id="0" onclick="concat(this.id)">
      <input type="button" value="+" id="+" onclick="concat(this.id)">
      <input type="button" value="-" id="-" onclick="concat(this.id)">
      <input type="button" value="*" id="*"  onclick="concat(this.id)">
      <input type="button" value="/" id="/" onclick="concat(this.id)">
      <input type="button" value="=" id="=" onclick="concat(this.id)">
      <input type="button" value="C" id="C" onclick="concat(this.id)">
      </div>
    </div>
   
    
  </body>
</html>
